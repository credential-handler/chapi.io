<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">

<title>CHAPI is the Credential Handler API | an open-source solution for communicating Verifiable Credentials on the Web</title>
<meta property="og:title" content="CHAPI is the Credential Handler API" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="an open-source solution for communicating Verifiable Credentials on the Web" />
<meta property="og:description" content="an open-source solution for communicating Verifiable Credentials on the Web" />
<link rel="canonical" href="https://chapi.io/" />
<meta property="og:url" content="https://chapi.io/" />
<meta property="og:site_name" content="CHAPI is the Credential Handler API" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="CHAPI is the Credential Handler API" />
<script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","description":"an open-source solution for communicating Verifiable Credentials on the Web","headline":"CHAPI is the Credential Handler API","name":"CHAPI is the Credential Handler API","url":"https://chapi.io/"}</script>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style" type="text/css" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/prismjs@1/themes/prism.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.2/dist/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <!-- Sidebar Menu -->
    <div class="ui vertical inverted right sidebar menu">
      <a class="item" href="/developers/issuers">VC Issuers</a>
      <a class="item" href="/developers/wallets">Digital Wallets</a>
      <a class="item" href="/developers/verifiers">VC Verifiers</a>
      <span class="item">
        <a class="ui basic inverted button" href="https://playground.chapi.io/">Try the Playground!</a>
      </span>
    </div>

    <div class="pusher">
    <header class="ui top inverted fixed menu" role="banner">
      <a class="ui header item" href=https://chapi.io/>
        chapi.io
        <span class="desktop only">&nbsp; | Credential Handler API</span>
      </a>
      <span class="item">
        <a class="ui basic inverted button" href="https://playground.chapi.io/">Try the Playground!</a>
      </span>
      <div class="right menu">
        <a class="toc icon item"><i class="sidebar icon"></i></a>
        <a class="item" href="/developers/issuers">VC Issuers</a>
        <a class="item" href="/developers/wallets">Digital Wallets</a>
        <a class="item" href="/developers/verifiers">VC Verifiers</a>
      </div>
    </header>
    

    <main id="content" class="main-content" role="main">
      <h1 id="developer-docs-for-verifying-multiple-verifiable-credentials" tabindex="-1">Developer Docs for Verifying Multiple Verifiable Credentials</h1>
<p>The <a href="https://playground.chapi.io/">CHAPI Playground</a> supports the delivery of<br>
<code>QueryByExample</code> requests for doing Multi-Credential Verification as a<br>
<a href="./">Verifiable Credential Verifier</a>.</p>
<h2 id="wallet-sign-up" tabindex="-1">Wallet Sign Up</h2>
<p>If you already have a CHAPI-enabled digital wallet (<a href="https://demo.vereswallet.dev/">Veres Wallet</a>, <a href="https://learncard.app/">LearnCard</a>, etc.), you can skip to the <a href="#vc-issuance">VC Issuance section</a>.</p>
<p>Here's how to get a demo Veres Wallet if you need one:</p>
<ol>
<li>
<p>Visit <a href="https://demo.vereswallet.dev/">https://demo.vereswallet.dev/</a> and click &quot;Try Veres Wallet&quot;.</p>
</li>
<li>
<p>Use an email address that you can access. The Veres Wallet supports email address tags, so you can modify a valid email address by adding &quot;+chapi&quot; to create multiple accounts: <a href="mailto:myname+chapi@example.com">myname+chapi@example.com</a> The &quot;+chapi&quot; can be anything you like and you can use this approach to make multiple accounts at a single email address.</p>
</li>
<li>
<p>Once you click &quot;Register&quot;, you'll receive an &quot;Allow Wallet&quot; modal. Make sure to click &quot;Allow&quot; on that modal, so the wallet can handle credentials on your behalf.</p>
</li>
</ol>
<p>Once that's done, proceed to Verifiable Credential Issuance.</p>
<h2 id="verifiable-credential-issuance" tabindex="-1">Verifiable Credential Issuance</h2>
<p>First, visit <a href="https://playground.chapi.io/issuer">the Issuer section of the playground</a>.</p>
<p>Next, select the &quot;JFF x vc-edu PF3&quot; icon in the top &quot;Select a credential to issue&quot; section.</p>
<p>The credential JSON below is similar to what will be passed to the issuer to generate the credential.</p>
<div class="ui basic segment">
  <details class="ui accordion">
    <summary class="title">
      <i class="dropdown icon"></i>
      Example Credential JSON prior to its being issued
    </summary>
    <div class="content ui form">
      <textarea class="field">
{
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://purl.imsglobal.org/spec/ob/v3p0/context.json"
  ],
  "id": "urn:uuid:63c8140b-1b77-4c39-babc-825e4cfd69ba",
  "type": [
    "VerifiableCredential",
    "OpenBadgeCredential"
  ],
  "name": "JFF x vc-edu PlugFest 3 Interoperability",
  "issuer": {
    "type": ["Profile"],
    "id": "did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn",
    "name": "Jobs for the Future (JFF)",
    "url": "https://www.jff.org/",
    "image": "https://w3c-ccg.github.io/vc-ed/plugfest-1-2022/images/JFF_LogoLockup.png"
  },
  "issuanceDate": "2023-07-20T07:05:44Z",
  "credentialSubject": {
    "type": ["AchievementSubject"],
    "id": "did:key:123",
    "achievement": {
      "id": "urn:uuid:ac254bd5-8fad-4bb1-9d29-efd938536926",
      "type": ["Achievement"],
      "name": "JFF x vc-edu PlugFest 3 Interoperability",
      "description": "This wallet supports the use of W3C Verifiable Credentials and has demonstrated interoperability during the presentation request workflow during JFF x VC-EDU PlugFest 3.",
      "criteria": {
        "type": "Criteria",
        "narrative": "Wallet solutions providers earned this badge by demonstrating interoperability during the presentation request workflow. This includes successfully receiving a presentation request, allowing the holder to select at least two types of verifiable credentials to create a verifiable presentation, returning the presentation to the requestor, and passing verification of the presentation and the included credentials."
      },
      "image": {
        "id":"https://w3c-ccg.github.io/vc-ed/plugfest-3-2023/images/JFF-VC-EDU-PLUGFEST3-badge-image.png",
        "type": "Image"
      }
    }
  }
}</textarea>
    </div>
  </details>
</div>
<p>Now, lets issue the credential. Click &quot;Issue Verifiable Credential&quot; to proceed to the (optional) DID Authentication screen.</p>
<p>Once you've completed DID Authentication (or not), you'll be provided with the Verifiable Credential JSON.</p>
<div class="ui basic segment">
  <details class="ui accordion">
    <summary class="title">
      <i class="dropdown icon"></i>
      Example Generated / Issued Verifiable Credential
    </summary>
    <div class="content ui form">
      <textarea class="field">
{
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://purl.imsglobal.org/spec/ob/v3p0/context.json",
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ],
  "id": "urn:uuid:63c8140b-1b77-4c39-babc-825e4cfd69ba",
  "type": [
    "VerifiableCredential",
    "OpenBadgeCredential"
  ],
  "name": "JFF x vc-edu PlugFest 3 Interoperability",
  "issuer": {
    "type": [
      "Profile"
    ],
    "id": "did:key:z6MkuxAHYLWVb4FyKvmxyT4egQeoYbNJrwNAVcg4TUkwxk86",
    "name": "Jobs for the Future (JFF)",
    "url": "https://www.jff.org/",
    "image": "https://w3c-ccg.github.io/vc-ed/plugfest-1-2022/images/JFF_LogoLockup.png"
  },
  "issuanceDate": "2023-08-15T20:37:11.170Z",
  "credentialSubject": {
    "type": [
      "AchievementSubject"
    ],
    "id": "did:key:123",
    "achievement": {
      "id": "urn:uuid:ac254bd5-8fad-4bb1-9d29-efd938536926",
      "type": [
        "Achievement"
      ],
      "name": "JFF x vc-edu PlugFest 3 Interoperability",
      "description": "This wallet supports the use of W3C Verifiable Credentials and has demonstrated interoperability during the presentation request workflow during JFF x VC-EDU PlugFest 3.",
      "criteria": {
        "type": "Criteria",
        "narrative": "Wallet solutions providers earned this badge by demonstrating interoperability during the presentation request workflow. This includes successfully receiving a presentation request, allowing the holder to select at least two types of verifiable credentials to create a verifiable presentation, returning the presentation to the requestor, and passing verification of the presentation and the included credentials."
      },
      "image": {
        "id": "https://w3c-ccg.github.io/vc-ed/plugfest-3-2023/images/JFF-VC-EDU-PLUGFEST3-badge-image.png",
        "type": "Image"
      }
    }
  },
  "proof": {
    "type": "Ed25519Signature2020",
    "created": "2023-08-15T20:37:11Z",
    "verificationMethod": "did:key:z6MkuxAHYLWVb4FyKvmxyT4egQeoYbNJrwNAVcg4TUkwxk86#z6MkuxAHYLWVb4FyKvmxyT4egQeoYbNJrwNAVcg4TUkwxk86",
    "proofPurpose": "assertionMethod",
    "proofValue": "z3Z3MYDpgcMWgoFovdLKc7qmLWCm3qLARn9FBNX6XBhajXipb6XWH9zksNHVrg8YE61PiygQ9brKEWpdHyNhx8obD"
  }
}</textarea>
    </div>
  </details>
</div>
<p><strong>NOTE:</strong> The credential JSON document now has an absolute URL for it's <code>id</code> value and a new <code>proof</code> section. The <code>issuer.id</code> has also been updated to reflect the playground as the Issuer, and (of course) the <code>issuanceDate</code> has also been set.</p>
<p>That credential may now be stored in a wallet. Click &quot;Store in Wallet&quot; to proceed.</p>
<p>A modal will appear - similar to the one below - explaining that the playground wants to send the credential for you.</p>
<p><img src="../playground-offering-to-store-credential.jpg" alt="Playground offering to store a credential. The screen contains two buttons: one to cancel the request and one to go to the next screen."></p>
<p>Clicking &quot;Next&quot; should present you with a list of available wallets:</p>
<p><img src="../choose-a-wallet.jpg" alt="Choose a wallet modal presenting all preregisterd wallet systems which can be clicked on to proceed to storing the credentials there."></p>
<p>However, if you instead receive a browser window popup warning you that you do not yet have one set up, you will need to return to the <a href="#wallet-sign-up">Wallet Sign Up section</a> above.</p>
<p>If you received a list of wallet options, pick the one you prefer by clicking on it's name to proceed.</p>
<p>Each wallet will have it's own system for displaying the credential and offering to store it for you.</p>
<p>Once you've clicked &quot;Store&quot; in your preferred wallet system, you will be brought back to the main playground screen.</p>
<p>Follow the above process a few more times by clicking &quot;Issuer Demo&quot; to load your wallet with more example credentials.</p>
<h2 id="multiple-verifiable-credential-verification" tabindex="-1">Multiple Verifiable Credential Verification</h2>
<p>Now that you have several Verifiable Credentials (VCs) in your wallet, let's get them all verified in one request.</p>
<p>First, visit the <a href="https://playground.chapi.io/verifier">playground's Verifier section</a>.</p>
<p>Select the VCs you loaded into your wallet (i.e. &quot;Alumni&quot;, &quot;JFF x vc-edu PF3&quot;, and &quot;Permanent Resident&quot;).</p>
<p><img src="../select-multiple-credentials.jpg" alt="Select multiple credentials to submit them for verification."></p>
<p>Next, click &quot;Request Verifiable Presentation&quot; to request that your wallet share these credentials with the Playground's Verifier.</p>
<p>The Wallet should display each of the credentials it found based on your selection. It may also provide the ability to select specific ones to be verified. The demo Veres Wallet presents the credential selection as follows:</p>
<p><img src="../multiple-credential-selection-within-wallet.jpg" alt="Multiple credentials listed within the Veres Demo Wallet are ready for selection. A Share button is available to send credential information to the Verifier."></p>
<p>Click the &quot;Share&quot; button to send some or all of them to the playground for verification.</p>
<p>Once shared, the process should end with a <code>VerifiablePresentation</code> JSON document shown and the words &quot;Presentation Verified&quot;.</p>
<p><img src="../verifiable-presentation-received.jpg" alt="A VerifiablePresentation JSON document object is shown in the Playgroud user interface followed by the words &quot;Presentation Verified&quot;."></p>
<div class="ui basic segment">
  <details class="ui accordion">
    <summary class="title">
      <i class="dropdown icon"></i>
      Example Verifiable Presentation
    </summary>
    <div class="content ui form">
      <textarea class="field">
{
  "@context": [
    "https://www.w3.org/2018/credentials/v1"
  ],
  "type": "VerifiablePresentation",
  "holder": "did:v1:test:nym:z6MkvAiqFoU1PsyvpC1Rc4XBdR7uXvjuGBYHRjH8Kum4Wa8c",
  "verifiableCredential": [
    {
      "@context": [
        "https://www.w3.org/2018/credentials/v1",
        "https://www.w3.org/2018/credentials/examples/v1",
        "https://contexts.vcplayground.org/examples/alumni/v1.json",
        "https://w3id.org/security/suites/ed25519-2020/v1"
      ],
      "type": [
        "VerifiableCredential",
        "AlumniCredential"
      ],
      "issuer": {
        "id": "did:key:z6MkfMMx7yTbRBpjTL5PyiHjucZoyjZ3vEXod3d3Yvn2znez",
        "image": "data:image/png;base64,iVBORw0KG....QYFB0T/BzE/ye22Qk+VAAAAAElFTkSuQmCC"
      },
      "name": "Alumni Credential",
      "description": "The holder is an alumni of Example University.",
      "issuanceDate": "2023-08-14T15:16:21.585Z",
      "credentialSubject": {
        "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
        "alumniOf": {
          "identifier": "did:example:c276e12ec21ebfeb1f712ebc6f1",
          "name": "Example University"
        }
      },
      "id": "https://playground.chapi.io/credential/gOCqUCjewfMeE4SojdCaj",
      "proof": {
        "type": "Ed25519Signature2020",
        "created": "2023-08-14T15:16:21Z",
        "verificationMethod": "did:key:z6MkfMMx7yTbRBpjTL5PyiHjucZoyjZ3vEXod3d3Yvn2znez#z6MkfMMx7yTbRBpjTL5PyiHjucZoyjZ3vEXod3d3Yvn2znez",
        "proofPurpose": "assertionMethod",
        "proofValue": "z8FM4tCT6LYf8NjFBP1tV1S6zp4XcpNUXsWzpKZ7KTPSAPbW9RVxh2wEJ6acdqL1YyQqnCNbNAUVsjxDZmauoDUb"
      }
    },
    {
      "@context": [
        "https://www.w3.org/2018/credentials/v1",
        "https://w3id.org/citizenship/v1",
        "https://w3id.org/security/suites/ed25519-2020/v1"
      ],
      "id": "https://issuer.oidp.uscis.gov/credentials/83627465",
      "type": [
        "VerifiableCredential",
        "PermanentResidentCard"
      ],
      "issuer": {
        "id": "did:key:z6MkjEPj5Qb3AwG8VBQHcALVVYba7pfTPYQUX5tDs7ujJrTa",
        "image": "data:image/png;base64,iVBORw0KG....AAAAASUVORK5CYII="
      },
      "identifier": "83627465",
      "name": "Permanent Resident Card",
      "description": "Government of Utopia Permanent Resident Card.",
      "issuanceDate": "2023-08-07T00:30:06.886Z",
      "expirationDate": "2029-12-03T12:19:52Z",
      "credentialSubject": {
        "id": "did:example:b34ca6cd37bbf23",
        "type": [
          "PermanentResident",
          "Person"
        ],
        "givenName": "JANE",
        "familyName": "SMITH",
        "gender": "Female",
        "image": "data:image/png;base64,iVBORw0KG....Q9eh9EeIAAAAABJRU5ErkJggg==",
        "residentSince": "2015-01-01",
        "lprCategory": "C09",
        "lprNumber": "999-999-999",
        "commuterClassification": "C1",
        "birthCountry": "Arcadia",
        "birthDate": "1978-07-17"
      },
      "proof": {
        "type": "Ed25519Signature2020",
        "created": "2023-08-07T00:30:06Z",
        "verificationMethod": "did:key:z6MkjEPj5Qb3AwG8VBQHcALVVYba7pfTPYQUX5tDs7ujJrTa#z6MkjEPj5Qb3AwG8VBQHcALVVYba7pfTPYQUX5tDs7ujJrTa",
        "proofPurpose": "assertionMethod",
        "proofValue": "z5VrEHiQUCL2VWzZX7HfBbR8Ruf6SaoAFJUbygVJv8wpsx12PnR3EN4ZC925uU1nNa7yFWsFEkVPdc859aBVC86EX"
      }
    },
    {
      "@context": [
        "https://www.w3.org/2018/credentials/v1",
        "https://purl.imsglobal.org/spec/ob/v3p0/context.json",
        "https://w3id.org/security/suites/ed25519-2020/v1"
      ],
      "id": "urn:uuid:a63a60be-f4af-491c-87fc-2c8fd3007a58",
      "type": [
        "VerifiableCredential",
        "OpenBadgeCredential"
      ],
      "name": "JFF x vc-edu PlugFest 2 Interoperability",
      "issuer": {
        "type": [
          "Profile"
        ],
        "id": "did:key:z6Mkr59YoVr3RR3ogjbA9q3JFFvGzXA4gykn27yWKZMShFet",
        "name": "Jobs for the Future (JFF)",
        "image": {
          "id": "https://w3c-ccg.github.io/vc-ed/plugfest-1-2022/images/JFF_LogoLockup.png",
          "type": "Image"
        }
      },
      "issuanceDate": "2023-08-07T00:29:51.919Z",
      "credentialSubject": {
        "type": [
          "AchievementSubject"
        ],
        "id": "did:key:123",
        "achievement": {
          "id": "urn:uuid:bd6d9316-f7ae-4073-a1e5-2f7f5bd22922",
          "type": [
            "Achievement"
          ],
          "name": "JFF x vc-edu PlugFest 2 Interoperability",
          "description": "This credential solution supports the use of OBv3 and w3c Verifiable Credentials and is interoperable with at least two other solutions.  This was demonstrated successfully during JFF x vc-edu PlugFest 2.",
          "criteria": {
            "narrative": "Solutions providers earned this badge by demonstrating interoperability between multiple providers based on the OBv3 candidate final standard, with some additional required fields. Credential issuers earning this badge successfully issued a credential into at least two wallets.  Wallet implementers earning this badge successfully displayed credentials issued by at least two different credential issuers."
          },
          "image": {
            "id": "https://w3c-ccg.github.io/vc-ed/plugfest-2-2022/images/JFF-VC-EDU-PLUGFEST2-badge-image.png",
            "type": "Image"
          }
        }
      },
      "proof": {
        "type": "Ed25519Signature2020",
        "created": "2023-08-07T00:29:51Z",
        "verificationMethod": "did:key:z6Mkr59YoVr3RR3ogjbA9q3JFFvGzXA4gykn27yWKZMShFet#z6Mkr59YoVr3RR3ogjbA9q3JFFvGzXA4gykn27yWKZMShFet",
        "proofPurpose": "assertionMethod",
        "proofValue": "z2rtzx4MtH4XvSxqqFHfmZCEKA5YG8buWaUq4ZntWxkNsdZJjPFkmg9odBCpbNTBqFZb4TdEXxQppnqNExnxe6UP2"
      }
    }
  ],
  "proof": {
    "type": "Ed25519Signature2018",
    "created": "2023-08-14T20:19:07Z",
    "verificationMethod": "did:v1:test:nym:z6MkvAiqFoU1PsyvpC1Rc4XBdR7uXvjuGBYHRjH8Kum4Wa8c#z6MkvAiqFoU1PsyvpC1Rc4XBdR7uXvjuGBYHRjH8Kum4Wa8c",
    "proofPurpose": "authentication",
    "challenge": "IXcczxXELNzoNNd-wYkVV",
    "domain": "https://playground.chapi.io",
    "jws": "eyJhbGciOiJFZERTQSIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19.._HaqYV3OVYFkvZbPlSDgMcYO2-7IWoYMjgdm8BGXX7Ea4U7Jz5vTFofm62N-S0rEhmVty7JY_5Cx5SsKCrslDw"
  }
}</textarea>
    </div>
  </details>
</div>
<p>Note that if you pick a credential that you didn't first load into your demo wallet, you'll receive a &quot;Sorry, we can't seem to find any credentials&quot; message. Additionally, you may find a different credential presented if it contains the requested data needed for verification.</p>
<p>Checkout the <a href="/developers/wallets/querybyexample"><code>QueryByExample</code> documentation</a> for examples of how a Verifier may request Wallets to respond with matching credentials.</p>


      <footer class="site-footer">
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.2/dist/semantic.min.js"></script>
    <script>
      // create sidebar and attach to menu open
      $('.ui.sidebar')
        .sidebar('attach events', '.toc.item');
    </script>
    <script src="/assets/js/tabs.js"></script>

  </body>
</html>
